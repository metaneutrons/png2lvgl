.TH PNG2LVGL 1 "2025-10-27" "png2lvgl 0.1.1" "User Commands"
.SH NAME
png2lvgl \- Convert PNG images to LVGL C arrays
.SH SYNOPSIS
.B png2lvgl
[\fIOPTIONS\fR]
.I INPUT
.SH DESCRIPTION
.B png2lvgl
converts PNG images to LVGL (Light and Versatile Graphics Library) compatible C arrays.
It supports multiple color formats including true color, indexed palettes, and alpha-only modes,
making it ideal for embedded systems and resource-constrained environments.
.PP
The tool automatically detects the optimal format based on the input image, or you can
explicitly specify the desired output format. Generated C files include proper LVGL headers,
memory alignment attributes, and image descriptors ready for use in LVGL applications.
.SH OPTIONS
.TP
.I INPUT
Input PNG file to convert (required)
.TP
.BR \-o ", " \-\-output " " \fIOUTPUT\fR
Output C file path. If not specified, uses the input filename with .c extension.
.TP
.BR \-\-stdout
Write output to stdout instead of a file. Cannot be used with \fB\-\-output\fR.
.TP
.BR \-f ", " \-\-format " " \fIFORMAT\fR
Specify the color format for conversion. Default is \fBauto\fR (automatic detection).
.RS
.PP
Available formats:
.TP
.B auto
Automatically detect optimal format (default)
.TP
.B true-color
RGB565 format for full color images (16-bit per pixel)
.TP
.B true-color-alpha
RGB565 with 8-bit alpha channel for transparency (24-bit per pixel)
.TP
.B true-color-chroma
RGB565 with chroma key for transparent color
.TP
.B indexed1
1-bit indexed palette (2 colors, monochrome)
.TP
.B indexed2
2-bit indexed palette (4 colors)
.TP
.B indexed4
4-bit indexed palette (16 colors, grayscale)
.TP
.B indexed8
8-bit indexed palette (256 colors, grayscale)
.TP
.B alpha1
1-bit alpha only (2 levels)
.TP
.B alpha2
2-bit alpha only (4 levels)
.TP
.B alpha4
4-bit alpha only (16 levels)
.TP
.B alpha8
8-bit alpha only (256 levels, full grayscale)
.RE
.TP
.BR \-\-lvgl-v8
Target LVGL 8.x (uses LV_IMG_CF_* format constants). Mutually exclusive with \fB\-\-lvgl-v9\fR.
.TP
.BR \-\-lvgl-v9
Target LVGL 9.x (uses LV_COLOR_FORMAT_* format constants). This is the default if neither flag is specified.
.TP
.BR \-\-overwrite
Overwrite existing output file without prompting. By default, the tool refuses to
overwrite existing files to prevent accidental data loss.
.TP
.BR \-h ", " \-\-help
Print help information and exit
.TP
.BR \-V ", " \-\-version
Print version information and exit
.SH EXAMPLES
.TP
Convert a PNG with automatic format detection (LVGL 9.x):
.B png2lvgl icon.png
.PP
.RS
Creates \fBicon.c\fR with automatically detected format using LVGL 9.x constants.
.RE
.TP
Target LVGL 8.x:
.B png2lvgl icon.png \-\-lvgl-v8
.PP
.RS
Generates output compatible with LVGL 8.x using LV_IMG_CF_* constants.
.RE
.TP
Specify output file:
.B png2lvgl input.png \-o output.c
.TP
Use 4-bit indexed grayscale:
.B png2lvgl logo.png \-f indexed4
.PP
.RS
Converts to 16-color grayscale palette, ideal for small icons.
.RE
.TP
Output to stdout for piping:
.B png2lvgl image.png \-\-stdout > result.c
.TP
Overwrite existing file:
.B png2lvgl sprite.png \-\-overwrite
.TP
Convert with true color and alpha:
.B png2lvgl button.png \-f true-color-alpha \-o ui/button.c
.SH OUTPUT FORMAT
Generated C files include:
.IP \(bu 2
LVGL header includes with proper guards
.IP \(bu 2
Memory alignment attributes (LV_ATTRIBUTE_MEM_ALIGN)
.IP \(bu 2
Color palette data (for indexed formats)
.IP \(bu 2
Pixel data array
.IP \(bu 2
Image descriptor structure (lv_img_dsc_t)
.PP
Example output structure:
.PP
.nf
.RS
const lv_img_dsc_t my_image = {
  .header.cf = LV_IMG_CF_INDEXED_4BIT,
  .header.w = 64,
  .header.h = 64,
  .data_size = 2048,
  .data = my_image_map,
};
.RE
.fi
.SH FORMAT SELECTION GUIDE
.TP
.B True Color (RGB565)
Use for full-color images, photos, or complex graphics. 16-bit per pixel.
.TP
.B True Color Alpha
Use when transparency is needed with full color. 24-bit per pixel.
.TP
.B Indexed (1/2/4/8-bit)
Use for icons, logos, or images with limited colors. Saves memory with palette-based encoding.
Automatically converts to grayscale.
.TP
.B Alpha Only (1/2/4/8-bit)
Use for masks, monochrome icons, or alpha-only overlays. Most memory-efficient for simple graphics.
.SH EXIT STATUS
.TP
.B 0
Success
.TP
.B 1
Error (invalid input, file not found, conversion failure, etc.)
.SH FILES
.TP
.I *.png
Input PNG image files
.TP
.I *.c
Generated C source files with LVGL image data
.SH NOTES
.IP \(bu 2
The tool preserves image dimensions in the output
.IP \(bu 2
Indexed formats automatically convert images to grayscale
.IP \(bu 2
Alpha-only formats extract only the alpha channel
.IP \(bu 2
Generated files are compatible with LVGL v8.x and v9.x
.IP \(bu 2
Output files use proper C naming conventions (underscores for hyphens)
.SH BUGS
Report bugs at: https://github.com/metaneutrons/png2lvgl/issues
.SH AUTHOR
Written by metaneutrons.
.SH COPYRIGHT
Copyright \(co 2025 metaneutrons.
.br
License GPLv3: GNU GPL version 3 <https://gnu.org/licenses/gpl.html>
.br
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
.SH SEE ALSO
.BR lvgl (7),
.BR convert (1),
.BR imagemagick (1)
.PP
LVGL documentation: https://docs.lvgl.io/
.br
Project homepage: https://github.com/metaneutrons/png2lvgl
